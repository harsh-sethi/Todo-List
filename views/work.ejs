<%- include('partials/header.ejs') %>
  
  <h1 id="title"><%= today %></h1>
  <form action="/work" method="POST" id="form">
    <input name="newItem2" type="text" placeholder="New Item" autocomplete="off" required autofocus>
    <button type="submit">Add+</button>
 </form>
  <div class="main_container">
    
    <% for(let i = 0;i<newListItems2.length;i++) { %>
      <ul id="chb" >
     <input type="checkbox" id="myCheckbox<%= i %>" > <li class="child"><%=(i+1) + ". " +newListItems2[i]  %></li> </ul>
     
    <% } %>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.0/jquery.min.js"></script>
    <script>
        $("[id^='myCheckbox']").change(function () {
                const checkbox = $(this);
                const label = checkbox.siblings(".child");

                if (checkbox.prop("checked")) {
                    label.addClass("completed-task");
                } else {
                    label.removeClass("completed-task");
                }
            });
    </script>
    
    
    
   </div>
   <%- include('partials/footer.ejs') %>